import{d as x,u as $,s as C,o as n,c as l,a as e,F as L,r as I,b as S,t as u,e as p,w as c,U as f,p as h,f as g,_ as m,g as k,h as w,i as y,j as B,P as N,k as U}from"./index-eee21357.js";const P=s=>(h("data-v-a9275273"),s=s(),g(),s),b={class:"users-list"},E=P(()=>e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"First Name"),e("th",null,"Second Name"),e("th"),e("th")])],-1)),D=x({__name:"UsersList",setup(s){const r=$(),{users:i}=C(r),_=o=>[console.log("user: ",o)],a=o=>[console.log("id: ",o)];return(o,d)=>(n(),l("table",b,[E,e("tbody",null,[(n(!0),l(L,null,I(S(i),t=>(n(),l("tr",{key:t.id},[e("td",null,u(t.id),1),e("td",null,u(t.first_name),1),e("td",null,u(t.second_name),1),e("td",null,[p(f,{text:"Edit",onClick:c(v=>_(t),["prevent"])},null,8,["onClick"])]),e("td",null,[p(f,{text:"Delete",onClick:c(v=>a(t.id),["prevent"])},null,8,["onClick"])])]))),128))])]))}});const F=m(D,[["__scopeId","data-v-a9275273"]]);const V={},A=s=>(h("data-v-a9595993"),s=s(),g(),s),M={class:"loader"},j=A(()=>e("div",{class:"loader__spinner"},null,-1)),z=[j];function R(s,r){return n(),l("div",M,z)}const T=m(V,[["render",R],["__scopeId","data-v-a9595993"]]),W=s=>(h("data-v-8f1036ae"),s=s(),g(),s),q={class:"users-list-page"},G={class:"users-list-page__error-container"},H=W(()=>e("span",{class:"users-list-page__error-sign"}," ✖ ",-1)),J={class:"users-list-page__error-text"},K=x({__name:"UsersListPage",setup(s){const r=$(),{users:i}=C(r),_=k(!1),a=k(null),o=()=>{};return w(async()=>{if(!i.value.length)try{_.value=!0,await r.initializeUsers(),a.value=null}catch(d){d instanceof Error?a.value=d.message:a.value="Error: loading users data"}finally{_.value=!1}}),(d,t)=>(n(),l("div",q,[_.value?(n(),y(T,{key:0})):a.value?(n(),y(N,{key:1,onClick:t[1]||(t[1]=c(v=>a.value=null,["self"]))},{default:B(()=>[e("div",G,[e("button",{class:"users-list-page__error-close",onClick:t[0]||(t[0]=c(v=>a.value=null,["prevent"]))}," ✖ "),H,e("p",J,u(a.value),1)])]),_:1})):U("",!0),S(i).length?(n(),l(L,{key:2},[p(f,{text:"Create User",onClick:c(o,["prevent"])},null,8,["onClick"]),p(F)],64)):U("",!0)]))}});const Q=m(K,[["__scopeId","data-v-8f1036ae"]]);export{Q as default};
