import{d as U,u as x,s as b,o as _,c as a,a as s,F as C,r as S,b as L,t as d,e as p,w as r,U as v,p as h,f,_ as g,g as k,h as I,i as y,j as w,P as B,k as $}from"./index-d528a081.js";const N=e=>(h("data-v-ce8810c1"),e=e(),f(),e),P={class:"users-list"},E=N(()=>s("thead",null,[s("tr",{class:"users-list__header"},[s("th",{class:"users-list__column users-list__column_id"},"ID"),s("th",{class:"users-list__column users-list__column_first-name"},"First Name"),s("th",{class:"users-list__column users-list__column_second-name"},"Second Name"),s("th"),s("th")])],-1)),D={class:"users-list__column users-list__column_id"},F={class:"users-list__column users-list__column_first-name"},V={class:"users-list__column users-list__column_second-name"},A={class:"users-list__column users-list__column_button"},M={class:"users-list__column users-list__column_button"},j=U({__name:"UsersList",setup(e){const c=x(),{users:i}=b(c),l=n=>[console.log("user: ",n)],o=n=>[console.log("id: ",n)];return(n,u)=>(_(),a("table",P,[E,s("tbody",null,[(_(!0),a(C,null,S(L(i),t=>(_(),a("tr",{key:t.id,class:"users-list__row"},[s("td",D,d(t.id),1),s("td",F,d(t.first_name),1),s("td",V,d(t.second_name),1),s("td",A,[p(v,{text:"Edit",onClick:r(m=>l(t),["prevent"]),class:"users-list__button"},null,8,["onClick"])]),s("td",M,[p(v,{text:"Delete",onClick:r(m=>o(t.id),["prevent"]),class:"users-list__button"},null,8,["onClick"])])]))),128))])]))}});const z=g(j,[["__scopeId","data-v-ce8810c1"]]);const R={},T=e=>(h("data-v-a9595993"),e=e(),f(),e),W={class:"loader"},q=T(()=>s("div",{class:"loader__spinner"},null,-1)),G=[q];function H(e,c){return _(),a("div",W,G)}const J=g(R,[["render",H],["__scopeId","data-v-a9595993"]]),K=e=>(h("data-v-bf51c7c1"),e=e(),f(),e),O={class:"users-list-page"},Q={class:"users-list-page__error-container"},X=K(()=>s("span",{class:"users-list-page__error-sign"}," ✖ ",-1)),Y={class:"users-list-page__error-text"},Z=U({__name:"UsersListPage",setup(e){const c=x(),{users:i}=b(c),l=k(!1),o=k(null),n=()=>{};return I(async()=>{if(!i.value.length)try{l.value=!0,await c.initializeUsers(),o.value=null}catch(u){u instanceof Error?o.value=u.message:o.value="Error: loading users data"}finally{l.value=!1}}),(u,t)=>(_(),a("div",O,[l.value?(_(),y(J,{key:0})):o.value?(_(),y(B,{key:1,onClick:t[1]||(t[1]=r(m=>o.value=null,["self"]))},{default:w(()=>[s("div",Q,[s("button",{class:"users-list-page__error-close",onClick:t[0]||(t[0]=r(m=>o.value=null,["prevent"]))}," ✖ "),X,s("p",Y,d(o.value),1)])]),_:1})):$("",!0),!l.value&&L(i).length?(_(),a(C,{key:2},[p(v,{text:"Create User",onClick:r(n,["prevent"]),class:"users-list-page__create-button"},null,8,["onClick"]),p(z)],64)):$("",!0)]))}});const es=g(Z,[["__scopeId","data-v-bf51c7c1"]]);export{es as default};
