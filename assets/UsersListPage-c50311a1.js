import{d as U,u as x,s as C,r as h,o as t,c,b as v,w as m,U as b,e as d,f as L,P as S,g as f,a as e,F as B,h as N,i as I,t as p,p as g,j as y,_ as k,k as E}from"./index-ff4731c7.js";const w=s=>(g("data-v-972bf52a"),s=s(),y(),s),D={class:"user-list"},F=w(()=>e("div",{class:"users-list__user-container"}," test ",-1)),V={class:"users-table"},A=w(()=>e("thead",null,[e("tr",{class:"users-table__header"},[e("th",{class:"users-table__column users-table__column_id"},"ID"),e("th",{class:"users-table__column users-table__column_first-name"},"First Name"),e("th",{class:"users-table__column users-table__column_second-name"},"Second Name"),e("th"),e("th")])],-1)),M={class:"users-table__column users-table__column_id"},j={class:"users-table__column users-table__column_first-name"},z={class:"users-table__column users-table__column_second-name"},O={class:"users-table__column users-table__column_button"},R={class:"users-table__column users-table__column_button"},T=U({__name:"UsersList",setup(s){const l=x(),{users:u}=C(l),a=h(!1),o=()=>{a.value=!0},n=r=>{console.log("user: ",r)},i=r=>{console.log("id: ",r)};return(r,$)=>(t(),c("div",D,[v(b,{text:"Create User",onClick:m(o,["prevent"]),class:"users-list__create-button"},null,8,["onClick"]),a.value?(t(),d(S,{key:0,onClosePopup:$[0]||($[0]=_=>a.value=!1)},{default:L(()=>[F]),_:1})):f("",!0),e("table",V,[A,e("tbody",null,[(t(!0),c(B,null,N(I(u),_=>(t(),c("tr",{key:_.id,class:"users-table__row"},[e("td",M,p(_.id),1),e("td",j,p(_.first_name),1),e("td",z,p(_.second_name),1),e("td",O,[v(b,{text:"Edit",onClick:m(P=>n(_),["prevent"]),class:"users-table__button"},null,8,["onClick"])]),e("td",R,[v(b,{text:"Delete",onClick:m(P=>i(_.id),["prevent"]),class:"users-table__button"},null,8,["onClick"])])]))),128))])])]))}});const W=k(T,[["__scopeId","data-v-972bf52a"]]);const q={},G=s=>(g("data-v-a9595993"),s=s(),y(),s),H={class:"loader"},J=G(()=>e("div",{class:"loader__spinner"},null,-1)),K=[J];function Q(s,l){return t(),c("div",H,K)}const X=k(q,[["render",Q],["__scopeId","data-v-a9595993"]]),Y=s=>(g("data-v-e1c2d174"),s=s(),y(),s),Z={class:"users-list-page"},ee={class:"users-list-page__error-container"},se=Y(()=>e("span",{class:"users-list-page__error-sign"}," âœ– ",-1)),te={class:"users-list-page__error-text"},ae=U({__name:"UsersListPage",setup(s){const l=x(),{users:u}=C(l),a=h(!1),o=h(null);return E(async()=>{if(!u.value.length)try{a.value=!0,await l.initializeUsers(),o.value=null}catch(n){n instanceof Error?o.value=n.message:o.value="Error: loading users data"}finally{a.value=!1}}),(n,i)=>(t(),c("div",Z,[a.value?(t(),d(X,{key:0})):o.value?(t(),d(S,{key:1,onClosePopup:i[0]||(i[0]=r=>o.value=null)},{default:L(()=>[e("div",ee,[se,e("p",te,p(o.value),1)])]),_:1})):f("",!0),!a.value&&I(u).length?(t(),d(W,{key:2})):f("",!0)]))}});const _e=k(ae,[["__scopeId","data-v-e1c2d174"]]);export{_e as default};
